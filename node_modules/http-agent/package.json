{
  "name": "http-agent",
  "description": "A simple agent for performing a sequence of http requests in node.js",
  "version": "0.1.2",
  "author": {
    "name": "Charlie Robbins",
    "email": "charlie.robbins@gmail.com"
  },
  "repository": {
    "type": "git",
    "url": "http://github.com/indexzero/http-agent.git"
  },
  "keywords": [
    "http-agent",
    "iterator",
    "http",
    "webcrawler"
  ],
  "dependencies": {
    "request": "1.9.x"
  },
  "devDependencies": {
    "vows": "0.5.x"
  },
  "main": "./lib/http-agent",
  "scripts": {
    "test": "vows test/*-test.js --spec"
  },
  "engines": {
    "node": ">= 0.2.0"
  },
  "readme": "# http-agent\n\nA simple agent for performing a sequence of http requests in node.js\n\n## Installation\n\n### Installing npm (node package manager)\n<pre>\n  curl http://npmjs.org/install.sh | sh\n</pre>\n\n### Installing http-agent\n<pre>\n  npm install http-agent\n</pre>\n\n## Usage \n\nThere are several way to use http-agent: \n\n1. Simple: Pass it a host and an array of strings to visit all of those URLs.\n2. Complex: Pass it a host and an array of JSON objects representing all relevant parameters (method, request body, etc.)\n3. Iterator: Each time the 'next' event is raised by an agent, you have the opportunity to add or remove URLs you wish to visit. In this sense  \n\n### Using http-agent to visit a set of URLs on a single host with 'GET'\n<pre>\n  var sys = require('sys'),\n      httpAgent = require('path/to/http-agent/lib');\n  \n  var agent = httpAgent.create('graph.facebook.com', ['apple', 'facebook', 'google']);\n  \n  agent.addListener('next', function (e, agent) {\n    // Simple usage: Just output the raw\n    // HTML returned from each request\n    sys.puts(agent.body);\n    agent.next();\n  });\n  \n  agent.addListener('stop', function (e, agent) {\n    sys.puts('Agent has completed visiting all urls');\n  });\n  \n  // Start the agent\n  agent.start();\n</pre>\n\n### Using http-agent to visit a set of URLs on a single host with complex parameters\nSince http-agent is based on top of request, it can take a set of JSON objects for request to use. If you're looking for more documentation about what parameters are relevant to http-agent, see [request][0] which http-agent is built on top of. \n\n<pre>\n  var sys = require('sys'),\n      httpAgent = require('path/to/http-agent/lib');\n  \n  var options = [\n    {\n      method: 'GET',\n      uri: 'apple'\n    },\n    {\n      method: 'GET',\n      uri: 'facebook'\n    },\n    {\n      method: 'GET',\n      uri: 'http://google.com/'\n    }\n  ];\n  var agent = httpAgent.create('graph.facebook.com', options);\n  \n  agent.addListener('next', function (e, agent) {\n    // Simple usage: Just output the raw\n    // HTML returned from each request\n    sys.puts(agent.body);\n    agent.next();\n  });\n  \n  agent.addListener('stop', function (e, agent) {\n    sys.puts('Agent has completed visiting all urls');\n  });\n  \n  // Start the agent\n  agent.start();\n</pre>\n\n### Using http-agent as an iterator over webpages\nEach time an instance of http-agent raises the 'next' event the agent is passed back as a parameter. That allows us to change the control flow of pages each time a page is visited. The agent is also passed back to other important events such as 'stop' and 'back'.\n<pre>\n  var sys = require('sys'),\n      httpAgent = require('path/to/http-agent/lib');\n  \n  var agent = httpAgent.create('graph.facebook.com', ['apple', 'facebook', 'google']),\n      addPage = true;\n  \n  agent.addListener('next', function (e, agent) {\n    if (addPage) {\n      // The agent will now also visit 'http://graph.facebook.com/yahoo'\n      agent.addUrl('yahoo');\n      addPage = false;\n    }\n\n    // Simple usage: Just output the raw\n    // HTML returned from each request\n    sys.puts(agent.body);\n    agent.next();\n  });\n  \n  agent.addListener('stop', function (e, agent) {\n    sys.puts('Agent has completed visiting all urls');\n  });\n  \n  // Start the agent\n  agent.start();\n</pre>\n\n## Run Tests\n<pre>\n  vows test/*-test.js --spec\n</pre>\n\n#### Author: [Charlie Robbins](http://www.charlierobbins.com);\n\n[0]: https://github.com/mikeal/request\n",
  "_id": "http-agent@0.1.2",
  "dist": {
    "shasum": "87ece98febe8be661a1da39fc849f5243a85f759"
  },
  "_from": "http-agent"
}
